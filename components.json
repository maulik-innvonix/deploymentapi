{
    
    "scrloginprocessuserrolepermissionresult": {"$id":"scrloginprocessuserrolepermissionresult","$type":"ScriptOperation","props":{"script":"processUserRolePermissionResult = function(prevRes,props) {\n  var _ = require('underscore');\n  var result ={};\n  data = props.userRolePermissionData;\n  var caseIds = [];\n  var rolePermissionArr =[];\n  var entityIds = [];\n  var objtoinsertUserArr = [];\n  var objtoinsertChannelAccessArr = [];\n  var objtoinsertChannelArr = [];\n  if(data && data.status == \"OK\" && data.result && data.result.data && data.result.data.length > 0){\n    var userObj ={};\n    var mongo  = require('mongodb');\n    userObj._id = (props.userId) ? props.userId :  data.result.data[0].userId;\n    userObj.emails =[];\n    var emailObj = {\"address\":data.result.data[0].email , \"verified\": true};\n    userObj.emails.push(emailObj);\n    userObj.profile = {};\n    userObj.profile.name =data.result.data[0].name;\n    userObj.profile.status = {} ;\n    userObj.profile.status = 1;\n    userObj.profile.gender =\"\";\n    userObj.profile.bdate =\"\";\n    userObj.profile.photoUrl =\"https://storage.googleapis.com/anzucontineo/Quitis/profileImages/defaultProfile.jpg\";\n    userObj.profile.firstname =data.result.data[0].firstname;\n    userObj.profile.lastname =data.result.data[0].lastname;\n    userObj.username =data.result.data[0].Username;\n    userObj.refreshToken =[];\n    userObj.rolePermIds =[];\n    userObj.tenantId =data.result.data[0].tenantId;\n    userObj.roleAccess ={};\n\tuserObj.roleAccess[data.result.data[0].tenantId] ={};\n\tuserObj.roleAccess[data.result.data[0].tenantId].tenantId = data.result.data[0].tenantId;    \n    userObj.parentTenantId =\"qtis\";    \n    var d = new Date();\n\tvar timestamp = Math.round(d.getTime() / 1000);\n    userObj.onDt =timestamp;\n    userObj.upDt =timestamp;\n    objtoinsertUserArr.push(userObj);\n    \n    var res = data.result.data;\n    for(var i=0;i<res.length;i++){\n      var rolePermissionData ={};\n      ObjectID = mongo.ObjectID;\n      //rolePermissionData._id = new ObjectID().toString();\n\t  rolePermissionData._id = userObj._id +':'+ res[i].CaseId +':'+ res[i].Entity+':'+res[i].AssignedRoleId;\n      rolePermissionData.channelName = res[i].CaseNumber;\n      //rolePermissionData.channelNameData = \"[\"+res[i].CaseNumber+\"]\";\n\t  rolePermissionData.resoureId =res[i].CaseId +':'+ res[i].Entity;\n\t  rolePermissionData.entityId = res[i].Entity;\n      rolePermissionData.caseId = res[i].CaseId;\n      rolePermissionData.tags = res[i].CaseNumber; \n      //rolePermissionData.tagsData = \"[\"+res[i].CaseNumber+\"]\";\n      rolePermissionData.tenantId =userObj.tenantId;//\"qtis\";\n\t  rolePermissionData.permission =[];\n      rolePermissionData.userId=userObj._id;\n      rolePermissionData.tenantRoleId=res[i].AssignedRoleId;\n      rolePermissionData.onDt =timestamp;\n\t  rolePermissionData.upDt =timestamp;\n\t  if(res[i].view > 0){\n\t\trolePermissionData.permission.push(\"0\");\n\t  }\n\t  if(res[i].add > 0){\n\t\trolePermissionData.permission.push(\"1\");\n\t  }\n\t  if(res[i].edit > 0){\n\t\trolePermissionData.permission.push(\"2\");\n\t  }\n\t  if(res[i].delete > 0){\n\t\trolePermissionData.permission.push(\"3\");\n\t  }\n\t  objtoinsertChannelAccessArr.push(rolePermissionData);     \n      entityIds.push(res[i].Entity);\n      if (!caseIds.includes(res[i].CaseNumber)) {\n        var channelData ={};\n        ObjectID = mongo.ObjectID;\n    \t//channelData._id = new ObjectID().toString();\n\t\tchannelData._id = res[i].CaseId;\n        channelData.name =res[i].CaseNumber;\n        channelData.owner_Id =res[i].CaseCreator;\n        channelData.tagPath =\"#\"+res[i].CaseNumber;\n        channelData.thumbnail =\"https://storage.googleapis.com/anzucontineo/Quitis/channelImages/defaultThumbnail.jpeg\";\n        channelData.tenantId =userObj.tenantId;//\"qtis\";\n        //channelData.kloojjCount =0;\n        channelData.onDt =timestamp;\n        channelData.upDt =timestamp;\n      \tcaseIds.push(res[i].CaseNumber);\n        objtoinsertChannelArr.push(channelData);\n      }\n    }\n    caseIds = _.uniq(caseIds);\n    entityIds = _.uniq(entityIds);\n    //result.query ={$and: [{ docId: { '$in': entityIds } },{'docType': 'qtisApplicationEntities'}]};\n    result.query ={$and: [{'docType': 'qtisApplicationEntities'}]};\n    result.postData = {\"props\":{\"operationType\":\"subscribeWS\"}};\n\n  }else {\n    result.error = {};\n    result.data = {};\n    result.data.res = {};\n    result.status = 'error';\n    result.message = 'We are unable to process request , please contact to QTIS administration.';\n  }\n  result.objtoinsertUserArr = objtoinsertUserArr;\n  result.objtoinsertChannelAccessArr = objtoinsertChannelAccessArr;\n  result.objtoinsertChannelArr = objtoinsertChannelArr;\n  result.caseIds = caseIds;\n  result.entityIds = entityIds;\n  return result;\n};\nprocessUserRolePermissionResult(process.prevResult.data,this.props.data);","tenantPath":"trial1/"},"eventHandlers":{"onSuccess":[{"dataMapping":[{"value":"list","target":"operationType"},{"source":"result.data.objtoinsertUserArr","target":"data.objtoinsert"},{"source":"result.data.objtoinsertChannelAccessArr","target":"data.rolePermissionArr"},{"source":"result.data.objtoinsertChannelArr","target":"data.objtoinsertChannelArr"},{"source":"result.data.caseIds","target":"data.caseIds"},{"source":"result.data.entityIds","target":"data.entityIds"},{"source":"result.data.query","target":"data.entityQuery"},{"value":"contineoComponent","target":"data.collectionName"},{"source":"result.data.postData","target":"data.postData"}],"actionId":"mongologingetqtisentities","executionMode":0,"mappingId":"1065164a-79e4-4751-804c-b0581d734a41"}]},"instruction":{},"instructionMapping":{},"sendResponse":false,"routes":{},"docType":"backend","configItemId":"scrloginprocessuserrolepermissionresult","docId":"azaction"},

    "azAddContent": {"resourceId":"azAddContent","className":"h-100 d-flex flex-column","id":"0","widgetType":"page","typeId":"c8PE4wPwqzCM18iWo74PYEZID","isWidget":true,"model":{"responseData":{"contentData":{},"suggestionInput":{"mentionChar":"","resourceId":"","searchText":""},"isEdit":false,"isPublicCheckboxVisible":true,"webPageSnapShot":"","sourceMode":{"type":"app","domain":{},"data":{}}},"displaySecureContentContainer":false,"getSignedUrlCallCount":0,"kloojjinitiateyoutubedownload":{"api":{"serviceId":"dms","resource":"kloojjdms"},"importParams":[{"type":"user","source":"userId","target":"props.data.userId"},{"type":"local","source":"origin","target":"props.data.origin"},{"type":"local","source":"sourceId","target":"props.data.sourceId"},{"type":"local","source":"sourceUrl","target":"props.data.sourceUrl"},{"type":"local","source":"kloojjId","target":"props.data.kloojjId"},{"type":"local","source":"tenantId","target":"props.data.tenantId"}],"props":{"operationType":"youtubeDownload","data":{"entity":"kloojj","sourceUrl":"","kloojjId":"","origin":"","userId":"","tenantId":""}}},"kloojjEdit":{"api":{"serviceId":"dms","resource":"kloojjdms"},"importParams":[{"type":"local","source":"description","target":"props.data.description"},{"type":"local","source":"type","target":"props.data.type"},{"type":"local","source":"title","target":"props.data.title"},{"type":"local","source":"startTime","target":"props.data.startTime"},{"type":"local","source":"endTime","target":"props.data.endTime"},{"type":"user","source":"userId","target":"props.data.userId"},{"type":"local","source":"id","target":"props.data.id"},{"type":"local","source":"descriptionHtml","target":"props.data.descriptionHtml"},{"type":"local","source":"userFullName","target":"props.data.creatorFullName"},{"type":"local","source":"userPhotoUrl","target":"props.data.creatorProfileImage"},{"type":"local","source":"fPage","target":"props.data.fPage"},{"type":"local","source":"lPage","target":"props.data.lPage"},{"type":"local","source":"parentId","target":"props.data.parentId"},{"type":"local","source":"rootId","target":"props.data.rootId"},{"type":"local","source":"channelTagpath","target":"props.data.channelTagpath"},{"type":"local","source":"channels","target":"props.data.channels"},{"type":"local","source":"isPublic","target":"props.data.isPublic"}],"props":{"operationType":"update","data":{"entity":"kloojj","description":"","title":"","startTime":null,"endTime":null,"userId":"","id":"","channelTagpath":[],"channels":[],"descriptionHtml":"","creatorFullName":"","creatorProfileImage":"","isPublic":true}}},"kloojjAddContent":{"api":{"serviceId":"dms","resource":"kloojjdms"},"importParams":[{"type":"local","source":"","target":"props.data"},{"type":"user","source":"name","target":"props.data.userFullName"},{"type":"user","source":"userId","target":"props.data.userId"},{"type":"user","source":"photoUrl","target":"props.data.userPhotoUrl"}],"props":{"operationType":"insert","data":{}}},"kloojjGenerateThumbnail":{"api":{"serviceId":"dms","resource":"kloojjdms"},"importParams":[{"type":"user","source":"userId","target":"props.data.userId"},{"source":"responseData.webPageSnapShot","target":"props.data.webPageSnapShot"},{"type":"local","source":"id","target":"props.data.id"},{"type":"local","source":"rootId","target":"props.data.parentId"},{"type":"local","source":"type","target":"props.data.type"},{"type":"local","source":"sourceUrl","target":"props.data.sourceUrl"},{"type":"local","source":"startTime","target":"props.data.startTime"},{"type":"local","source":"origin","target":"props.data.origin"},{"type":"local","source":"storageLocation","target":"props.data.storageLocation"},{"type":"local","source":"sourceId","target":"props.data.sourceId"},{"type":"local","source":"refPubId","target":"props.data.refPubId"}],"props":{"operationType":"generateThumbnail","data":{"entity":"kloojj","sourceUrl":"","startTime":1,"id":"","parentId":"","origin":"","userId":"","type":"","sourceId":"","webPageSnapShot":"","storageLocation":"","refPubId":""}}},"kloojjGetEntity":{"api":{"serviceId":"widgetResources","resource":"kloojjGetComponent"},"props":{"operationType":"getComponents","data":{"input":{"docType":"entity","configItemId":"kloojj","docId":"azentity"}}}},"kloojjgetsignedurl":{"api":{"serviceId":"signURL","resource":"kloojjstorage"},"importParams":[{"type":"user","source":"userId","target":"props.data.userId"},{"type":"local","source":"fileName","target":"props.data.fileName"},{"type":"local","source":"storageLocation","target":"props.data.storageLocation"},{"type":"local","source":"id","target":"props.data.id"},{"type":"local","source":"rootId","target":"props.data.parentId"},{"type":"local","source":"sourceId","target":"props.data.sourceId"},{"type":"local","source":"refPubId","target":"props.data.refPubId"}],"props":{"operationType":"getSignedUrl","data":{"entity":"kloojj","userId":"","fileName":"","location":"getSignedUrl","storageLocation":"","id":"","parentId":"","sourceId":"","refPubId":""}}},"getSuggestions":{"api":{"serviceId":"view","resource":"viewkloojj"},"importParams":[{"source":"suggestionInput.mentionChar","target":"props.data.mentionChar"},{"source":"suggestionInput.resourceId","target":"props.data.resourceId"},{"source":"suggestionInput.searchText","target":"props.data.searchText"},{"type":"user","source":"userId","target":"props.data.userId"}],"props":{"operationType":"getSuggestList","data":{"entity":"kloojj","userId":"","limit":5,"offset":0,"mentionChar":"","resourceId":"","searchText":""}}},"dataModels":{"kloojj":{"parentSourceId":null,"contentDownloadStatus":null,"id":null,"channels":null,"extractionDataId":null,"parentId":null,"rootId":null,"width":null,"height":null,"xOffSet":null,"yOffSet":null,"pageNumber":null,"keywords":null,"authors":null,"fPage":null,"lPage":null,"deviceId":null,"parentSource":null,"parentOrigin":null,"actionType":null,"description":null,"descriptionHtml":null,"title":null,"sourceDesc":null,"thumbnail":null,"redactedText":null,"storageLocation":null,"metaDataTagpath":null,"totalPages":null,"tenantId":null,"visiblity":null,"type":null,"isPublic":null,"userId":null,"tagpath":null,"channelTagpath":null,"origin":null,"sourceUrl":null,"sourceId":null,"startTime":null,"endTime":null,"duration":null,"userFullName":null,"userPhotoUrl":null,"status":null,"timestamp":null,"refPubId":null,"onDt":null,"upDt":null,"createdBy":null}}},"children":[{"controlName":"az-cell","resourceId":"contentSection","className":"container az-addContent-popup","id":"1","children":[{"controlName":"az-cell","resourceId":"mediaSection","className":"az-media-container","id":"2","children":[{"controlName":"az-cell","resourceId":"addContentHiddenSignedUrlCell","className":"","id":"3","children":[{"controlName":"az-cell","resourceId":"addContentHiddenSignedUrlSection","className":"","id":"4","afterDataLoad":"function(source,model,data,result,inputData) { if(result && result.signedURL) {\n   setValueAtPath(model,'displaySecureContentContainer', true); \n   setValueAtPath(data,'signedUrl', result.signedURL); \n   var isFromAddImageMetaData = source.$azUtility.getDataFormUIProcess(data,\"fromAddImageMetaData\");\n   if(isFromAddImageMetaData){\n     source.$azUtility.setDataForUIProcess(data,\"customThumbnail\",result.signedURL);\n   }\n}}","allowAJAXUpdate":true,"width":"12","dataLoader":"kloojjgetsignedurl","componentId":"cL1An38b4ls3ZhpPEe1N0zHNp13","title":"{ \"default\" : \"Add Content Hidden Signed Url Section\"}","widthAdjustment":"fixed","showLoader":true,"autoloadData":true}],"allowAJAXUpdate":true,"checkVisibility":"function(source,model,data) { if(data && data.origin == 'kloojj') {\n  if(data.fileName){\n     setValueAtPath(data,'fileName', data.fileName); \n  }else if(data.sourceUrl){\n    var sourceUrlStr = data.sourceUrl;\n    var splittedSourceUrl = sourceUrlStr.split('/');\n    var fileName = splittedSourceUrl[splittedSourceUrl.length-1];  \n    setValueAtPath(data,'fileName', fileName); \n  }\n  return true;\n} else {\n  setValueAtPath(model,'displaySecureContentContainer', true); \n  return false;\n}\n}","width":"12","visible":false,"componentId":"cL1An38b4ls3ZhpPEe1N0zHNp12","title":"{ \"default\" : \"Hidden signed url cell\"}","widthAdjustment":"fixed"},{"controlName":"az-cell","resourceId":"addContentSecureContentContainer","className":"","id":"5","children":[{"controlName":"az-media-view","resourceId":"videoPlayer","className":"mediaWrapper","id":"6","subscribeToEvents":"seekMedia","componentType":"customControl","eventHandlers":{"seekmedia":{"afterProcessing":"function($event,source,model,data,result,resposeData) { if(source.media){\n  source.media.customSeek(result);\n}}"},"onerror":{"beforeProcessing":"function($event,source,model,data,inputData) { model.getSignedUrlCallCount += 1;\nif(data.origin && data.origin == \"kloojj\" && model.getSignedUrlCallCount <= 1) {\n  if(source && source.getWidget() && source.getWidget().getComponentByResourceId(\"mediaSection\")) {\n\tsource.getWidget().getComponentByResourceId(\"mediaSection\").refreshUI();\n  }\n}}"}},"checkVisibility":"function(source,model,data) {  var shouldVisisble = (data.type == \"video\") ? true : false;\n return shouldVisisble;}","width":"12","visible":false,"accessFunctionId":"videoContent","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp13","title":"{ \"default\" : \"Video player\"}","widthAdjustment":"fixed","autoLoad":true,"onHoverPlayPause":false,"displayReplay":true,"defaultImg":"https://storage.googleapis.com/anzucontineo/Quitis/Images/kloojjdefault.png","imgBasePath":"https://storage.googleapis.com/kloojj-dev-img/","player":{"autoplay":false,"invertTime":false,"controls":["play","pause","progress","current-time","mute"],"analyticsId":"videoPlayer","youtube":{"start":0}}},{"controlName":"az-media-view","resourceId":"audioPlayer","className":"mediaWrapper","id":"7","subscribeToEvents":"seekMedia","componentType":"customControl","eventHandlers":{"seekmedia":{"afterProcessing":"function($event,source,model,data,result,resposeData) { if(source.media){\n  source.media.customSeek(result);\n}}"},"onerror":{"beforeProcessing":"function($event,source,model,data,inputData) { model.getSignedUrlCallCount += 1;\nif(data.origin && data.origin == \"kloojj\" && model.getSignedUrlCallCount <= 1) {\n  if(source && source.getWidget() && source.getWidget().getComponentByResourceId(\"mediaSection\")) {\n\tsource.getWidget().getComponentByResourceId(\"mediaSection\").refreshUI();\n  }\n}}"}},"checkVisibility":"function(source,model,data) {  var shouldVisisble = (data.type == \"audio\") ? true : false;\n return shouldVisisble;}","width":"12","visible":false,"accessFunctionId":"audioContent","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp14","title":"{ \"default\" : \"Audio Player\"}","widthAdjustment":"fixed","autoLoad":true,"onHoverPlayPause":false,"displayReplay":true,"defaultImg":"https://storage.googleapis.com/anzucontineo/Quitis/Images/az-audio-bg.jpg","imgBasePath":"https://storage.googleapis.com/kloojj-dev-img/","player":{"autoplay":false,"invertTime":false,"controls":["play","pause","progress","current-time","mute"],"analyticsId":"audioPlayer"}},{"controlName":"az-thumbnail-view","resourceId":"imageContent","className":"d-flex justify-content-center","id":"8","componentType":"customControl","checkVisibility":"function(source,model,data) { var shouldVisisble = (data.type == azContentType.IMAGE || data.type == azContentType.DOCUMENT ||  data.type == azContentType.PAGENOTE) ? true : false;\nreturn shouldVisisble;}","width":"12","visible":false,"accessFunctionId":"imageContent","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp15","title":"{ \"default\" : \"Thumbnail Viewer\"}","widthAdjustment":"fixed","defaultImg":"https://storage.googleapis.com/anzucontineo/Quitis/Images/kloojjdefault.png","imgBasePath":"https://storage.googleapis.com/kloojj-prod-img/"},{"controlName":"az-thumbnail-view","resourceId":"webPageContent","className":"d-flex justify-content-center","id":"9","componentType":"customControl","checkVisibility":"function(source,model,data) {  var shouldVisisble = (data.type == \"webpage\") ? true : false;\n return shouldVisisble;}","width":"12","visible":false,"accessFunctionId":"webPageContent","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp16","title":"{ \"default\" : \"Web page content\"}","widthAdjustment":"fixed","defaultImg":"https://storage.googleapis.com/anzucontineo/Quitis/Images/kloojjdefault.png","imgBasePath":"https://storage.googleapis.com/kloojj-prod-img/"}],"allowAJAXUpdate":true,"checkVisibility":"function(source,model,data) { if(model && model.displaySecureContentContainer) {\n  return true;\n} else {\n  return false;\n}\n}","width":"12","visible":false,"componentId":"cL1An38b4ls3ZhpPEe1N0zHNp11","title":"{ \"default\" : \"Secure Content Container\"}","widthAdjustment":"fixed"}],"allowAJAXUpdate":true,"width":"12","accessFunctionId":"contentContainer","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp12","title":"{ \"default\" : \"Media section\"}","widthAdjustment":"fixed"},{"controlName":"az-cell","resourceId":"dobuleSliderCell","className":"","id":"10","children":[{"controlName":"az-range-slider","resourceId":"rangeSlider","className":"az-range-slider","id":"11","selectedStartRangeField":"startTime","valueFormatter":"function(source,model,data,value) { if(value == null || value == undefined){\n  value = 0;\n}\nreturn source.$azUtility.convertSecondToTime(value);}","selectionOptionsType":"dynamic","sliderType":"double","eventHandlers":{"slideend":{"onComplete":"function($event,source,model,data,result) { if(source.prevValue[0] != result[0]){\n  source.$root.emitEvent(\"seekMedia\",result[0]); \n}}"}},"accessFunctionId":"rangeSlider","numberOfStep":"0.1","title":"{ \"default\" : \"Range Slider\"}","rangeEndFieldName":"duration","selectedEndRangeField":"endTime","checkVisibility":"function(source,model,data) { if(data && data.type === 'video' || data.type === 'audio'){\n  return true;\n}}","width":"12","visible":false,"componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp17","widthAdjustment":"fixed","controlType":"doubleRange","enableCross":false}],"allowAJAXUpdate":true,"checkVisibility":"function(source,model,data) { if(data && data.actionType == 'clip') {\n  return true;\n} else {\n  return false;\n}}","width":"12","visible":false,"componentId":"cj1dVW08kRSJGHnVBNoWVPcAVp11","title":"{ \"default\" : \"dobuleSliderCell\"}","widthAdjustment":"fixed"},{"controlName":"az-cell","resourceId":"singleSliderCell","className":"","id":"12","children":[{"controlName":"az-range-slider","resourceId":"singleRangeSlider","className":"az-range-slider","id":"13","selectedStartRangeField":"startTime","valueFormatter":"function(source,model,data,value) { if(value == null || value == undefined){\n  value = 0;\n}\nreturn source.$azUtility.convertSecondToTime(value);}","selectionOptionsType":"dynamic","sliderType":"single","eventHandlers":{"slideend":{"onComplete":"function($event,source,model,data,result) { if(source.prevValue) {\n  source.$root.emitEvent(\"seekMedia\",result); \n}}"}},"numberOfStep":"0.1","title":"{ \"default\" : \"singleRangeSlider\"}","rangeEndFieldName":"duration","checkVisibility":"function(source,model,data) { if(data && data.type === 'video' || data.type === 'audio'){\n  return true;\n}}","width":"12","visible":false,"componentId":"cj1dVW08kRSJGHnVBNoWVPcAVp13","widthAdjustment":"fixed","controlType":"doubleRange","enableCross":false}],"allowAJAXUpdate":true,"checkVisibility":"function(source,model,data) { if(data && data.actionType == 'bookmark') {\n  return true;\n} else {\n  return false;\n}\n}","width":"12","visible":false,"componentId":"cj1dVW08kRSJGHnVBNoWVPcAVp12","title":"{ \"default\" : \"singleSliderCell\"}","widthAdjustment":"fixed"},{"controlName":"az-text-area","resourceId":"kloojjTitle","className":"az-addContent-title","id":"14","selectionOptionsType":"dynamic","accessFunctionId":"titleTextArea","title":"{ \"default\" : \"Enter Title\"}","width":"12","fieldName":"title","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp18","widthAdjustment":"fixed","controlType":"textarea","minRows":3,"maxRows":8},{"controlName":"az-rich-text-editor","resourceId":"description","className":"az-card-desc","id":"15","componentType":"customControl","eventHandlers":{"loadsuggestion":{"afterProcessing":"function($event,source,model,data,result,resposeData) { var renderList = $event.customeData.renderList;\nsource.bindSuggestionData(renderList,result);}","serverAction":"getSuggestions","beforeProcessing":"function($event,source,model,data,inputData) { if(inputData){\n  var searchText = (inputData.searchText) ? inputData.searchText : \"\";\n  setValueAtPath(model, \"suggestionInput.searchText\", searchText);\n  var mentionChar = (inputData.mentionChar) ? inputData.mentionChar : \"\";\n  setValueAtPath(model, \"suggestionInput.mentionChar\", mentionChar);\n  var resourceId = (inputData.resourceId) ? inputData.resourceId : \"\";\n  setValueAtPath(model, \"suggestionInput.resourceId\", resourceId);\n}}","showLoader":false},"onclick":{},"onblur":{"afterProcessing":"function($event,source,model,data,result,resposeData) { source.$azUtility.setIspublicValueDynamic(source, model, data);}"},"oncreated":{"afterProcessing":"function($event,source,model,data,result,resposeData) { source.$azUtility.setIspublicValueDynamic(source, model, data);}"}},"width":"12","accessFunctionId":"richTextEditor","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp19","title":"{ \"default\" : \"Description - Rich Text Editor\"}","widthAdjustment":"fixed","autoFocus":true,"mentionOptions":{"allowedChars":"/^[a-zA-Z0-9!_$&()\\-`.+,/\"]*/","mentionDenotationChars":["#"]},"mentionConfiguration":{"reiblade":{"#":{"type":"userTag","endTagAfterSelection":true,"level":1},"~":{"type":"channelTag","endTagAfterSelection":false,"level":null,"separation":":","autoloadNextLevel":true}},"radar":{"#":{"type":"userTag","endTagAfterSelection":true,"level":1},"~":{"type":"channelTag","endTagAfterSelection":false,"level":null,"separation":":","autoloadNextLevel":true},"|":{"type":"metaDataTag","endTagAfterSelection":false,"level":null,"separation":":","autoloadNextLevel":true}},"qtis":{"#":{"type":"userTag","endTagAfterSelection":true,"level":1},"~":{"type":"channelTag","separation":":","level":3,"endTagAfterSelection":true,"autoloadNextLevel":true}},"kloojj":{"#":{"type":"userTag","endTagAfterSelection":true,"level":1}}},"toolbarOptions":[["bold","italic","underline"],[{"list":"ordered"},{"list":"bullet"}],[{"indent":"-1"},{"indent":"+1"}],[{"header":[1,2,3,4,5,6,false]}],[{"color":[]},{"background":[]}],["link"],["clean"]],"fieldName":"descriptionHtml","fieldNameText":"description","getMentionConfiguration":"function(source,model,data) {return source.$azUtility.getMentionConfiguration(source,model,data);}"},{"controlName":"az-cell","resourceId":"actionSection","className":"az-card-action","id":"16","children":[{"controlName":"az-cell","resourceId":"actionCell","className":"d-flex align-items-center w-100 ","id":"17","children":[{"controlName":"az-field-checkbox","resourceId":"isPublic","className":"t-small d-flex align-items-center","id":"18","selectionOptionsType":"dynamic","eventHandlers":{"onfocus":{},"onblur":{}},"accessFunctionId":"visiblityCheckbox","title":"{ \"default\" : \"Public\"}","checkVisibility":"function(source,model,data) { if(model.responseData.isPublicCheckboxVisible){\nreturn true;\n} else {\n return false;\n}}","width":"2","visible":false,"fieldName":"isPublic","componentId":"co4opk3XYduM46FDMWBwbyAswp14","widthAdjustment":"fixed","controlType":"checkbox","checkedValue":true,"uncheckedValue":false},{"controlName":"az-button","resourceId":"cancelBtn","className":"ml-auto","id":"19","accessFunctionId":"cancelBtn","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp21","title":"{ \"default\" : \"Cancel\"}","eventHandlers":{"onclick":{"beforeProcessing":"function($event,source,model,data,inputData) {  $event.stopPropagation();}","afterProcessing":"function($event,source,model,data,result,resposeData) { if(model.responseData.sourceMode.type == \"iframe\"){\n   var iframeData = {\"extData\":{\"status\":\"Abort\",\"event\": \"addContent\"}};\n   window.parent.postMessage(iframeData, model.responseData.sourceMode.domain);\n }else{\n   source.$root.hideModal();\n }\n source.$azUtility.checkPlayerState($event,source,model,data,result);}"}},"variant":"secondary"},{"controlName":"az-button","resourceId":"saveBtn","className":"","id":"20","eventHandlers":{"generatethumbfornewkloojj":{"afterProcessing":"function($event,source,model,data,result,resposeData) { if(data.id){\nsetTimeout(function(){\n   var eventName = \"thumbnailUpdatedForId\" + data.id;\n   source.$root.emitEvent(eventName, result); \n   source.$root.emitEvent(\"updateSeekBarThumbnail\");\n},1000);\n}\n}","serverAction":"kloojjGenerateThumbnail","showLoader":false},"insertkloojj":{"afterProcessing":"function($event,source,model,data,result,resposeData) { source.$azUtility.saveContent($event,source,model,data,result);\nsource.$azUtility.checkPlayerState($event,source,model,data,result);\nif (model.responseData && model.responseData.sourceMode && model.responseData.sourceMode.type == \"iframe\") {\n  var succMsg = (source.uiprops.eventHandlers && source.uiprops.eventHandlers.onclick.successInfo) ? source.uiprops.eventHandlers.onclick.successInfo.message : \"Content Added successfully\";\n  var iframeData = { \"extData\": { \"status\": \"Success\", \"message\": succMsg, \"content\": result, \"event\": \"addContent\" } };\n  window.parent.postMessage(iframeData, model.responseData.sourceMode.domain);\n}\nsource.$root.hideModal();}","serverAction":"kloojjAddContent","beforeProcessing":"function($event,source,model,data,inputData) { if(data.type == \"webpage\" || data.type == \"image\"){\n  setValueAtPath(model,\"responseData.webPageSnapShot\",data.thumbnail);\n}else{\n  setValueAtPath(model,\"responseData.webPageSnapShot\",\"\");\n}\ndata.entity=\"kloojj\";}","showLoader":true},"initiates3upload":{"afterProcessing":"function($event,source,model,data,result,resposeData) { var insertedKloojjData = source.$azUtility.getDataFormUIProcess(data,'insertedKloojjMetaData');\nresult.updatedKloojj.user_channel_Name = insertedKloojjData.user_channel_Name ? insertedKloojjData.user_channel_Name : \"\";\nresult.updatedKloojj.userPhotoUrl = insertedKloojjData.userPhotoUrl ? insertedKloojjData.userPhotoUrl : result.updatedKloojj.userPhotoUrl;\nvar eventName = \"contentChangedForId\" + data.id;\nsource.$root.emitEvent(eventName, result.updatedKloojj);\nif(data.uiProcessObject && data.uiProcessObject.insertedKloojjMetaData) {\n\tdelete data.uiProcessObject.insertedKloojjMetaData;\n}\n\n}","serverAction":"kloojjinitiateyoutubedownload","beforeProcessing":"function($event,source,model,data,inputData) { source.$azUtility.setDataForUIProcess(data,'insertedKloojjMetaData',inputData);\ndata.tenantId = inputData.tenantId;\ndata.kloojjId = inputData.id;}","showLoader":true},"onclick":{"beforeProcessing":"function($event,source,model,data,inputData) { $event.stopPropagation();\nsource.$azUtility.processContentBeforeAdd($event,source,model,data);}","successMessage":{"default":null}}},"checkVisibility":"function(source,model,data) {  return (model.responseData.isEdit) ? false : true;}","visible":false,"accessFunctionId":"PostBtn","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp22","title":"{ \"default\" : \"Save\"}","variant":"primary"},{"controlName":"az-button","resourceId":"updateBtn","className":"","id":"21","eventHandlers":{"generatethumbforupdatedkloojj":{"afterProcessing":"function($event,source,model,data,result,resposeData) { if(data.id){\n   var eventName = \"thumbnailUpdatedForId\" + data.id;\n   source.$root.emitEvent(eventName, result); \n   source.$root.emitEvent(\"updateSeekBarThumbnail\");\n}}","serverAction":"kloojjGenerateThumbnail","showLoader":false},"updatekloojj":{"afterProcessing":"function($event,source,model,data,result,resposeData) { source.$azUtility.updateContent($event,source,model,data,result);\nsource.$azUtility.checkPlayerState($event,source,model,data,result);}","serverAction":"kloojjEdit","showLoader":true},"onclick":{"beforeProcessing":"function($event,source,model,data,inputData) { source.$azUtility.processContentBeforeUpdate($event,source,model,data);}","successMessage":{"default":null}}},"checkVisibility":"function(source,model,data) {  return (model.responseData.isEdit) ? true : false;}","visible":false,"accessFunctionId":"updateBtn","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp23","title":"{ \"default\" : \"Save\"}","variant":"primary"}],"allowAJAXUpdate":true,"width":"12","componentId":"co4opk3XYduM46FDMWBwbyAswp13","title":"{ \"default\" : \"Button Cell\"}","widthAdjustment":"fixed"}],"allowAJAXUpdate":true,"width":"12","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp20","title":"{ \"default\" : \"Button Section\"}","widthAdjustment":"fixed"}],"dataPath":"responseData.contentData","allowAJAXUpdate":true,"eventHandlers":{"beforedatabind":{"beforeProcessing":"function($event,source,model,data,inputData) { source.$azUtility.setExtensionData($event,source,model,data,inputData);}"},"oncreated":{"beforeProcessing":"function($event,source,model,data,inputData) { var sourceMode = source.$store.getters.getContentData({\"pageId\": source.$azUtility.getPageResourceId(\"addContent\"), \"dataPath\": \"responseData.sourceMode\"});\nif(sourceMode && sourceMode.type == \"iframe\"){\n  source.$root.hideSpinner();\n  var entityData = model.dataModels.kloojj;\n  var iframeData = sourceMode.data;\n  var contentData = {};\n  for (const property in entityData) {\n    if (iframeData[property]) {\n      contentData[property] = iframeData[property];\n    } else {\n      contentData[property] = null;\n    }\n  }\n  contentData = source.$azUtility.defaultContentValues(contentData);\n  setValueAtPath(model, source.uiprops.dataPath, contentData);\n}}"}},"checkVisibility":"function(source,model,data) {  return !source.$azUtility.isObjectEmpty(data);}","width":"12","entity":"kloojj","visible":false,"accessFunctionId":"addEditContent","componentId":"cn6Zqz6znESDLSQNmlmgPBSQkp11","title":"{ \"default\" : \"Content Section\"}","widthAdjustment":"fixed","store":["responseData.contentData","responseData.isEdit","responseData.sourceMode"],"displayLoader":true,"setCustomClass":"function(source,model,data) { return source.$azUtility.setUserChannelTagClass(source, model, data);}"}],"componentHTMLId":"azaddcontent","componentId":"CcJbPjzbzeJTmDxHod3kAgLRTR","title":"{ \"$loader\" : { \"className\" : \"com.contineonx.core.common.MultiLocaleValue\"} , \"default\" : \"AzAddContent\" , \"tenantPath\" : \"trial1/\"}","label":"AzAddContent","isTopBar":false,"routes":{},"docType":"widget","configItemId":"azAddContent","docId":"azwidget"}
}
